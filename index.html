<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b1220" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>Devocional ‚Ä¢ 30 Dias</title>

  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="icon" href="icon-192.png" sizes="192x192" />
  <link rel="apple-touch-icon" href="icon-192.png" />

  <style>
    :root{
      --bg:#0b1220;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.09);
      --line: rgba(255,255,255,.10);
      --text:#eaf0ff;
      --muted:#a7b4d6;
      --ok:#31d07c;
      --bad:#ff5d7a;
      --accent:#4c8dff;
      --gold:#f7d27a;
      --shadow: 0 18px 60px rgba(0,0,0,.40);
      --r:18px;
      --tap:52px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:var(--font); color:var(--text);
      background:
        radial-gradient(900px 450px at 10% 0%, rgba(76,141,255,.22), transparent 60%),
        radial-gradient(900px 450px at 90% 10%, rgba(247,210,122,.16), transparent 60%),
        radial-gradient(900px 450px at 60% 100%, rgba(49,208,124,.14), transparent 60%),
        var(--bg);
      padding-bottom: 94px;
    }
    .wrap{max-width:980px;margin:0 auto;padding:16px 14px 0}
    header{
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      padding:10px 4px 14px; position:sticky;top:0;z-index:20;
      backdrop-filter: blur(14px);
      background: linear-gradient(180deg, rgba(11,18,32,.86), rgba(11,18,32,.15));
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .brand{display:flex;align-items:center;gap:12px;min-width:0}
    .logo{
      width:44px;height:44px;border-radius:14px;
      background: linear-gradient(135deg, rgba(76,141,255,.95), rgba(247,210,122,.85));
      box-shadow: var(--shadow);
      display:grid;place-items:center;
      font-weight:1000;color:#08111f;
      flex:0 0 auto;
      position:relative;overflow:hidden;
    }
    .logo:after{
      content:"";position:absolute;inset:-60%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), transparent 42%);
      transform: rotate(18deg);
    }
    h1{margin:0;font-size:16px;line-height:1.1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .sub{margin-top:4px;color:var(--muted);font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .pill{
      display:inline-flex;align-items:center;gap:8px;
      padding:10px 12px;border-radius:999px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      font-size:12px;color:var(--muted);
      user-select:none;white-space:nowrap;
    }
    .dot{width:10px;height:10px;border-radius:99px;background:var(--ok);box-shadow:0 0 0 6px rgba(49,208,124,.10)}
    .dot.off{background:#ffd166;box-shadow:0 0 0 6px rgba(255,209,102,.10)}

    .grid{display:grid;grid-template-columns:1.2fr .8fr;gap:14px;align-items:start}
    @media (max-width:860px){.grid{grid-template-columns:1fr}}
    .card{
      background: var(--panel);
      border:1px solid var(--line);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card .hd{
      padding:14px 14px 10px;
      border-bottom:1px solid rgba(255,255,255,.06);
      display:flex;align-items:flex-start;justify-content:space-between;gap:10px;
    }
    .card .hd h2{margin:0;font-size:14px;letter-spacing:.2px}
    .card .hd small{display:block;margin-top:4px;color:var(--muted);font-size:12px}
    .card .bd{padding:14px}

    .badge{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 10px;border-radius:999px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted);font-size:12px;
      white-space:nowrap;
    }

    .btn{
      height: var(--tap);
      padding:0 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color:var(--text);
      font-weight:900;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active{transform:translateY(1px)}
    .btn.primary{border-color: rgba(76,141,255,.35); background: rgba(76,141,255,.16)}
    .btn.ok{border-color: rgba(49,208,124,.35); background: rgba(49,208,124,.16)}
    .btn.danger{border-color: rgba(255,93,122,.30); background: rgba(255,93,122,.12)}
    .btn.small{height:42px;border-radius:12px;font-size:13px;padding:0 12px;flex:0}
    .btn.wide{width:100%}

    .two{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    @media (max-width:520px){.two{grid-template-columns:1fr}}

    .list{display:flex;flex-direction:column;gap:10px}
    .item{
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      border-radius:16px;
      padding:12px;
      display:flex;justify-content:space-between;gap:10px;align-items:flex-start;
    }
    .item .left{min-width:0}
    .item .title{margin:0;font-size:14px;font-weight:1000;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .item .meta{margin-top:6px;color:var(--muted);font-size:12px;display:flex;gap:10px;flex-wrap:wrap}
    .tag{
      display:inline-flex;align-items:center;gap:6px;
      padding:4px 8px;border-radius:999px;
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted);font-size:12px;white-space:nowrap;
    }
    .empty{
      padding:14px;border-radius:16px;
      background: rgba(0,0,0,.14);
      border:1px dashed rgba(255,255,255,.16);
      color:var(--muted);text-align:center;
    }
    .divider{height:1px;background:rgba(255,255,255,.08);margin:12px 0}
    .small{font-size:12px;color:rgba(234,240,255,.75);line-height:1.45}

    .cal{
      display:grid;
      grid-template-columns: repeat(6, 1fr);
      gap:10px;
    }
    @media (max-width:520px){.cal{grid-template-columns: repeat(5, 1fr);}}
    .day{
      height:50px;border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.14);
      display:flex;align-items:center;justify-content:center;
      font-weight:1000; cursor:pointer; user-select:none;
      position:relative;
    }
    .day.active{border-color: rgba(76,141,255,.45); background: rgba(76,141,255,.16)}
    .day.done{
      border-color: rgba(49,208,124,.45);
      background: rgba(49,208,124,.16);
    }
    .day.done::after{
      content:"‚úì";
      position:absolute; top:6px; right:8px;
      font-size:12px; color: var(--ok);
      background: rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.12);
      border-radius:999px;
      padding:2px 6px;
    }

    .heroVerse{
      padding:14px;
      border-radius:18px;
      background: linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.10);
    }
    .heroVerse .ref{color:var(--gold);font-weight:1000;margin-bottom:8px}
    .heroVerse .txt{font-size:15px;line-height:1.55}
    .heroVerse .pray{margin-top:10px;color:rgba(234,240,255,.78);font-size:12px;line-height:1.55}

    .tabs{
      position:fixed;left:0;right:0;bottom:0;z-index:50;
      background: rgba(10,16,30,.80);
      backdrop-filter: blur(14px);
      border-top:1px solid rgba(255,255,255,.10);
      padding:10px 10px calc(12px + env(safe-area-inset-bottom));
    }
    .tabs .bar{
      max-width:980px;margin:0 auto;
      display:grid;grid-template-columns:repeat(4,1fr);gap:8px;
    }
    .tab{
      height:56px;border-radius:18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      color:var(--muted);font-weight:1000;
      display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;
      cursor:pointer;user-select:none;font-size:11px;
      -webkit-tap-highlight-color: transparent;
    }
    .tab.active{background: rgba(76,141,255,.14);border-color: rgba(76,141,255,.35);color: var(--text)}
    .tab .ico{font-size:18px;line-height:1}

    .view{display:none}
    .view.active{display:block}

    .toast{
      position:fixed;left:50%;transform:translateX(-50%);
      bottom: 96px;z-index:80;
      background: rgba(0,0,0,.55);
      border:1px solid rgba(255,255,255,.12);
      color:var(--text);
      padding:10px 12px;border-radius:999px;
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
      max-width: calc(100% - 24px);
      white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
      opacity:0;pointer-events:none;
      transition: opacity .2s ease, transform .2s ease;
    }
    .toast.show{opacity:1;transform:translateX(-50%) translateY(-6px)}
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">‚úù</div>
        <div>
          <h1 id="appName">Devocional ‚Ä¢ 30 Dias</h1>
          <div class="sub">Calend√°rio ‚Ä¢ Vers√≠culos ‚Ä¢ Ora√ß√µes ‚Ä¢ Temas</div>
        </div>
      </div>
      <div class="pill">
        <span class="dot" id="netDot"></span>
        <span id="netTxt">offline</span>
      </div>
    </header>

    <!-- DEVOCIONAL -->
    <section class="view active" id="view-devocional">
      <div class="grid">
        <div class="card">
          <div class="hd">
            <div>
              <h2>Devocional do dia</h2>
              <small>Selecione um dia no calend√°rio</small>
            </div>
            <div class="badge" id="progressBadge">0/30 conclu√≠dos</div>
          </div>

          <div class="bd">
            <div class="heroVerse" id="heroVerse"></div>

            <div class="divider"></div>

            <div class="two">
              <button class="btn ok" id="btnDone">Marcar como feito ‚úÖ</button>
              <button class="btn" id="btnCopy">Copiar vers√≠culo</button>
            </div>

            <div style="height:10px"></div>

            <button class="btn primary wide" id="btnReset">Reiniciar 30 dias</button>

            <div class="divider"></div>
            <div class="small">
              üí° Dica: leia o vers√≠culo, fa√ßa a ora√ß√£o curta e escreva 1 frase de aplica√ß√£o no seu caderno.
            </div>
          </div>
        </div>

        <div class="card">
          <div class="hd">
            <div>
              <h2>Calend√°rio 30 dias</h2>
              <small>Clique em um dia para abrir</small>
            </div>
          </div>
          <div class="bd">
            <div class="cal" id="cal"></div>
            <div class="divider"></div>
            <div class="small">Dias em verde = conclu√≠dos.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- VERS√çCULOS -->
    <section class="view" id="view-versiculos">
      <div class="card">
        <div class="hd">
          <div>
            <h2>Vers√≠culos</h2>
            <small>30 vers√≠culos do devocional</small>
          </div>
          <button class="btn small" id="btnCopyAll">Copiar lista</button>
        </div>
        <div class="bd">
          <div class="list" id="versList"></div>
        </div>
      </div>
    </section>

    <!-- ORA√á√ïES -->
    <section class="view" id="view-oracoes">
      <div class="card">
        <div class="hd">
          <div>
            <h2>Ora√ß√µes</h2>
            <small>Modelos curtos para orar</small>
          </div>
        </div>
        <div class="bd">
          <div class="list" id="prayList"></div>
        </div>
      </div>
    </section>

    <!-- TEMAS -->
    <section class="view" id="view-temas">
      <div class="card">
        <div class="hd">
          <div>
            <h2>Temas b√≠blicos</h2>
            <small>Ansiedade ‚Ä¢ Medo ‚Ä¢ Casamento ‚Ä¢ F√© ‚Ä¢ Perd√£o</small>
          </div>
        </div>
        <div class="bd">
          <div class="list" id="themesList"></div>
        </div>
      </div>
    </section>
  </div>

  <!-- TABS -->
  <nav class="tabs" aria-label="Navega√ß√£o">
    <div class="bar">
      <button class="tab active" data-go="devocional"><span class="ico">üóìÔ∏è</span><span>30 Dias</span></button>
      <button class="tab" data-go="versiculos"><span class="ico">üìñ</span><span>Vers√≠culos</span></button>
      <button class="tab" data-go="oracoes"><span class="ico">üôè</span><span>Ora√ß√µes</span></button>
      <button class="tab" data-go="temas"><span class="ico">üí¨</span><span>Temas</span></button>
    </div>
  </nav>

  <div class="toast" id="toast">‚Äî</div>

  <script>
    // ===== PWA =====
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => navigator.serviceWorker.register("./sw.js").catch(()=>{}));
    }

    // ===== UI helpers =====
    const $ = (id)=> document.getElementById(id);
    function toast(msg){
      const t=$("toast");
      t.textContent=msg;
      t.classList.add("show");
      clearTimeout(toast._tm);
      toast._tm=setTimeout(()=>t.classList.remove("show"),2200);
    }
    function escapeHtml(s){
      return String(s ?? '').replace(/[&<>"']/g, m => ({
        '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'
      }[m]));
    }

    // Network
    function netUpdate(){
      const on=navigator.onLine;
      $("netDot").classList.toggle("off", !on);
      $("netTxt").textContent= on ? "online" : "offline";
    }
    window.addEventListener("online", netUpdate);
    window.addEventListener("offline", netUpdate);
    netUpdate();

    // ===== Data =====
    // Observa√ß√£o: textos b√≠blicos variam por tradu√ß√£o. Aqui eu coloco refer√™ncia + mensagem curta.
    const DAYS = [
      {day:1,  ref:"Salmo 46:1",  verse:"Deus √© o nosso ref√∫gio e fortaleza, socorro bem presente na ang√∫stia.", pray:"Senhor, s√™ meu ref√∫gio hoje. Fortalece meu cora√ß√£o e guia meus passos."},
      {day:2,  ref:"Prov√©rbios 3:5-6", verse:"Confie no Senhor de todo o cora√ß√£o... e Ele endireitar√° os seus caminhos.", pray:"Pai, eu escolho confiar em Ti. Direciona minhas decis√µes e meu caminho."},
      {day:3,  ref:"Mateus 11:28", verse:"Vinde a mim... e eu vos aliviarei.", pray:"Jesus, eu entrego meu peso a Ti. D√°-me descanso e leveza na alma."},
      {day:4,  ref:"Filipenses 4:6-7", verse:"N√£o andeis ansiosos... e a paz de Deus guardar√° o vosso cora√ß√£o.", pray:"Deus, eu entrego minhas preocupa√ß√µes. Guarda minha mente com a Tua paz."},
      {day:5,  ref:"Isa√≠as 41:10", verse:"N√£o temas, porque eu sou contigo... eu te ajudarei.", pray:"Senhor, tira meu medo. Eu recebo Tua ajuda e Tua for√ßa."},
      {day:6,  ref:"Salmo 23:1", verse:"O Senhor √© o meu pastor; nada me faltar√°.", pray:"Pastor amado, supre o que me falta e conduz-me em seguran√ßa."},
      {day:7,  ref:"Romanos 8:28", verse:"Todas as coisas cooperam para o bem... dos que amam a Deus.", pray:"Pai, mesmo sem entender tudo, eu confio que Tu est√°s trabalhando para o bem."},
      {day:8,  ref:"Josu√© 1:9", verse:"S√™ forte e corajoso... o Senhor teu Deus √© contigo.", pray:"Deus, d√°-me coragem para avan√ßar. Eu n√£o estou sozinho(a)." },
      {day:9,  ref:"Salmo 121:1-2", verse:"O meu socorro vem do Senhor, que fez o c√©u e a terra.", pray:"Senhor, eu levanto meus olhos a Ti. Socorre-me hoje."},
      {day:10, ref:"Jo√£o 14:27", verse:"Deixo-vos a paz... n√£o se turbe o vosso cora√ß√£o.", pray:"Jesus, eu recebo Tua paz. Acalma meu cora√ß√£o e meus pensamentos."},
      {day:11, ref:"Salmo 37:5", verse:"Entrega o teu caminho ao Senhor; confia nele, e o mais ele far√°.", pray:"Pai, eu entrego meu caminho. Faz o que eu n√£o consigo fazer."},
      {day:12, ref:"2 Tim√≥teo 1:7", verse:"Deus n√£o nos deu esp√≠rito de medo, mas de poder, amor e equil√≠brio.", pray:"Senhor, enche-me de equil√≠brio e amor. Eu rejeito o medo."},
      {day:13, ref:"Hebreus 13:5", verse:"N√£o te deixarei, nem te desampararei.", pray:"Deus, obrigado porque Tu n√£o me abandona. Eu descanso na Tua presen√ßa."},
      {day:14, ref:"Salmo 34:18", verse:"Perto est√° o Senhor dos que t√™m o cora√ß√£o quebrantado.", pray:"Senhor, chega perto de mim. Cura meu cora√ß√£o e renova minha esperan√ßa."},
      {day:15, ref:"Lamenta√ß√µes 3:22-23", verse:"As miseric√≥rdias do Senhor... renovam-se a cada manh√£.", pray:"Pai, obrigado pela Tua miseric√≥rdia. Renova-me hoje."},
      {day:16, ref:"Tiago 1:5", verse:"Se algu√©m tem falta de sabedoria, pe√ßa a Deus.", pray:"Deus, d√°-me sabedoria para agir certo e falar com amor."},
      {day:17, ref:"1 Pedro 5:7", verse:"Lan√ßando sobre ele toda a vossa ansiedade, porque ele tem cuidado de v√≥s.", pray:"Senhor, eu lan√ßo minha ansiedade sobre Ti. Obrigado porque cuidas de mim."},
      {day:18, ref:"Salmo 91:1", verse:"Aquele que habita no esconderijo do Alt√≠ssimo... descansa √† sombra do Onipotente.", pray:"Deus, eu habito em Ti. Guarda-me de todo mal."},
      {day:19, ref:"Romanos 12:2", verse:"Transformai-vos pela renova√ß√£o da vossa mente.", pray:"Senhor, renova minha mente. Que eu pense como Tu pensas."},
      {day:20, ref:"G√°latas 5:22-23", verse:"O fruto do Esp√≠rito √© amor... paz... dom√≠nio pr√≥prio.", pray:"Esp√≠rito Santo, produz Teu fruto em mim hoje."},
      {day:21, ref:"Mateus 6:33", verse:"Buscai primeiro o Reino de Deus... e tudo vos ser√° acrescentado.", pray:"Pai, eu coloco Teu Reino em primeiro lugar. Cuida do resto."},
      {day:22, ref:"Jo√£o 15:5", verse:"Sem mim nada podeis fazer.", pray:"Jesus, eu dependo de Ti. Ajuda-me em tudo o que eu fizer."},
      {day:23, ref:"Salmo 19:14", verse:"Sejam agrad√°veis as palavras da minha boca... diante de Ti.", pray:"Senhor, guarda minha boca e meu cora√ß√£o. Que eu Te agrade."},
      {day:24, ref:"Ef√©sios 4:32", verse:"Sede bondosos... perdoando-vos uns aos outros.", pray:"Deus, d√°-me um cora√ß√£o perdoador. Ensina-me a amar como Cristo."},
      {day:25, ref:"1 Cor√≠ntios 13:4-5", verse:"O amor √© paciente... n√£o se irrita, n√£o guarda rancor.", pray:"Senhor, forma em mim um amor maduro: paciente e sem rancor."},
      {day:26, ref:"Salmo 139:14", verse:"Eu Te louvo porque fui formado(a) de modo especial e admir√°vel.", pray:"Pai, obrigado pela vida que me deste. Ensina-me a me ver com Teus olhos."},
      {day:27, ref:"Isa√≠as 43:2", verse:"Quando passares pelas √°guas, eu serei contigo.", pray:"Deus, caminha comigo nas dificuldades. Eu confio na Tua presen√ßa."},
      {day:28, ref:"Romanos 15:13", verse:"O Deus da esperan√ßa vos encha de toda alegria e paz.", pray:"Senhor, enche-me de esperan√ßa, alegria e paz no Esp√≠rito."},
      {day:29, ref:"Salmo 27:1", verse:"O Senhor √© a minha luz e a minha salva√ß√£o; a quem temerei?", pray:"Deus, Tu √©s minha luz. Eu n√£o temerei, pois Tu est√°s comigo."},
      {day:30, ref:"Apocalipse 21:4", verse:"Deus enxugar√° dos seus olhos toda l√°grima.", pray:"Pai, firma minha esperan√ßa no Teu futuro. Sustenta-me at√© o fim."},
    ];

    const PRAYERS = [
      {title:"Ansiedade", text:"Senhor, eu coloco diante de Ti tudo o que me preocupa. Guarda minha mente e meu cora√ß√£o. D√°-me paz, disciplina e confian√ßa. Em nome de Jesus, am√©m."},
      {title:"Medo", text:"Pai, eu rejeito o medo e recebo Teu Esp√≠rito de poder, amor e equil√≠brio. Fortalece-me e guia-me hoje. Em nome de Jesus, am√©m."},
      {title:"Casamento", text:"Deus, aben√ßoa meu casamento. D√°-nos amor, respeito, perd√£o e unidade. Que Cristo seja o centro do nosso lar. Em nome de Jesus, am√©m."},
      {title:"Fam√≠lia", text:"Senhor, visita minha fam√≠lia. Protege, cura, restaura e traz salva√ß√£o. D√°-nos paz dentro de casa. Em nome de Jesus, am√©m."},
      {title:"Dire√ß√£o", text:"Pai, d√°-me sabedoria e dire√ß√£o. Fecha portas que n√£o v√™m de Ti e abre as que s√£o da Tua vontade. Em nome de Jesus, am√©m."},
      {title:"Gratid√£o", text:"Senhor, obrigado por tudo o que Tu √©s e fazes. Eu escolho Te adorar mesmo antes de ver a resposta. Em nome de Jesus, am√©m."},
    ];

    const THEMES = [
      {
        title:"Ansiedade",
        msg:"Deus n√£o manda voc√™ negar a realidade, mas entregar o peso. Ora√ß√£o + confian√ßa gera paz.",
        refs:["Filipenses 4:6-7","1 Pedro 5:7","Mateus 6:33-34","Salmo 94:19","Jo√£o 14:27"]
      },
      {
        title:"Medo",
        msg:"O medo grita, mas a presen√ßa de Deus fala mais alto. Coragem √© obedecer com Deus ao lado.",
        refs:["Isa√≠as 41:10","Josu√© 1:9","2 Tim√≥teo 1:7","Salmo 27:1","Salmo 56:3-4"]
      },
      {
        title:"Casamento",
        msg:"Casamento √© alian√ßa: amor pr√°tico, perd√£o di√°rio e Cristo no centro.",
        refs:["Ef√©sios 5:25","1 Cor√≠ntios 13:4-7","Eclesiastes 4:9-12","Colossenses 3:13-14","1 Pedro 3:7"]
      },
      {
        title:"F√©",
        msg:"F√© n√£o √© sentir tudo perfeito; √© confiar em Deus mesmo quando ainda n√£o v√™.",
        refs:["Hebreus 11:1","Prov√©rbios 3:5-6","Romanos 8:28","Marcos 9:24","Salmo 37:5"]
      },
      {
        title:"Perd√£o",
        msg:"Perd√£o n√£o √© aprovar o erro, √© liberar seu cora√ß√£o para viver em paz.",
        refs:["Ef√©sios 4:32","Mateus 6:14-15","Colossenses 3:13","Lucas 23:34","Romanos 12:19"]
      },
      {
        title:"Paz",
        msg:"A paz de Deus n√£o depende do barulho de fora, mas da presen√ßa dEle dentro.",
        refs:["Jo√£o 14:27","Isa√≠as 26:3","Salmo 23:1-4","Filipenses 4:7","Salmo 46:1"]
      }
    ];

    // ===== Storage =====
    const KEY_DONE="dev30_done_v1";
    const KEY_SEL="dev30_sel_v1";

    function loadDone(){
      try{
        const raw=localStorage.getItem(KEY_DONE);
        const v=raw?JSON.parse(raw):[];
        return Array.isArray(v)?v:[];
      }catch(e){ return []; }
    }
    function saveDone(arr){ localStorage.setItem(KEY_DONE, JSON.stringify(arr)); }

    let done = loadDone(); // array of day numbers (1..30)
    let selectedDay = Number(localStorage.getItem(KEY_SEL) || "1");
    if(!selectedDay || selectedDay<1 || selectedDay>30) selectedDay=1;

    // ===== Views/Tabs =====
    const views={
      devocional:$("view-devocional"),
      versiculos:$("view-versiculos"),
      oracoes:$("view-oracoes"),
      temas:$("view-temas")
    };
    function setView(name){
      Object.values(views).forEach(v=>v.classList.remove("active"));
      views[name].classList.add("active");
      document.querySelectorAll(".tab").forEach(t=>t.classList.toggle("active", t.dataset.go===name));
      if(name==="versiculos") renderVerses();
      if(name==="oracoes") renderPrayers();
      if(name==="temas") renderThemes();
      window.scrollTo({top:0,behavior:"smooth"});
    }
    document.querySelectorAll(".tab").forEach(t=>t.addEventListener("click",()=>setView(t.dataset.go)));

    // ===== Render calendar & hero =====
    function progressText(){ return `${done.length}/30 conclu√≠dos`; }

    function renderCalendar(){
      const cal=$("cal");
      cal.innerHTML="";
      for(let d=1; d<=30; d++){
        const div=document.createElement("div");
        div.className="day";
        if(d===selectedDay) div.classList.add("active");
        if(done.includes(d)) div.classList.add("done");
        div.textContent=d;
        div.onclick=()=>{
          selectedDay=d;
          localStorage.setItem(KEY_SEL, String(selectedDay));
          renderCalendar();
          renderHero();
        };
        cal.appendChild(div);
      }
      $("progressBadge").textContent = progressText();
    }

    function renderHero(){
      const data = DAYS.find(x=>x.day===selectedDay) || DAYS[0];
      const isDone = done.includes(selectedDay);

      $("heroVerse").innerHTML = `
        <div class="ref">Dia ${data.day} ‚Ä¢ ${escapeHtml(data.ref)}</div>
        <div class="txt">‚Äú${escapeHtml(data.verse)}‚Äù</div>
        <div class="pray"><b>Ora√ß√£o:</b> ${escapeHtml(data.pray)}</div>
        <div class="divider"></div>
        <div class="small">
          <b>Aplica√ß√£o:</b> O que Deus quer trabalhar em voc√™ hoje? Escreva 1 a√ß√£o pr√°tica.
          <br/>Status: ${isDone ? "<span style='color:var(--ok);font-weight:1000'>Conclu√≠do ‚úÖ</span>" : "<span style='color:var(--muted)'>Pendente</span>"}
        </div>
      `;
    }

    async function copyText(text){
      try{
        await navigator.clipboard.writeText(text);
        toast("Copiado ‚úÖ");
      }catch(e){
        alert(text);
      }
    }

    $("btnDone").addEventListener("click", ()=>{
      if(done.includes(selectedDay)){
        done = done.filter(x=>x!==selectedDay);
        saveDone(done);
        toast("Desmarcado");
      }else{
        done.push(selectedDay);
        done.sort((a,b)=>a-b);
        saveDone(done);
        toast("Marcado ‚úÖ");
      }
      renderCalendar();
      renderHero();
    });

    $("btnCopy").addEventListener("click", ()=>{
      const d = DAYS.find(x=>x.day===selectedDay) || DAYS[0];
      const text = `Dia ${d.day} ‚Äî ${d.ref}\n${d.verse}\n\nOra√ß√£o: ${d.pray}`;
      copyText(text);
    });

    $("btnReset").addEventListener("click", ()=>{
      if(!confirm("Reiniciar e limpar os 30 dias?")) return;
      done=[];
      saveDone(done);
      selectedDay=1;
      localStorage.setItem(KEY_SEL,"1");
      toast("Reiniciado");
      renderCalendar();
      renderHero();
    });

    // ===== Verses list =====
    function renderVerses(){
      const box=$("versList");
      box.innerHTML="";
      DAYS.forEach(d=>{
        const div=document.createElement("div");
        div.className="item";
        div.innerHTML=`
          <div class="left">
            <div class="title">Dia ${d.day} ‚Ä¢ ${escapeHtml(d.ref)}</div>
            <div class="meta">
              <span class="tag">${done.includes(d.day) ? "‚úÖ feito" : "‚è≥ pendente"}</span>
              <span class="tag">Copiar</span>
            </div>
            <div class="small" style="margin-top:8px;line-height:1.55">‚Äú${escapeHtml(d.verse)}‚Äù</div>
          </div>
          <button class="btn small" data-copy="${d.day}">Copiar</button>
        `;
        box.appendChild(div);
      });
      box.querySelectorAll("[data-copy]").forEach(btn=>{
        btn.onclick=()=>{
          const day=Number(btn.getAttribute("data-copy"));
          const d=DAYS.find(x=>x.day===day);
          copyText(`${d.ref}\n${d.verse}`);
        };
      });
    }

    $("btnCopyAll").addEventListener("click", ()=>{
      const text = DAYS.map(d=>`Dia ${d.day} ‚Äî ${d.ref}\n${d.verse}`).join("\n\n");
      copyText(text);
    });

    // ===== Prayers list =====
    function renderPrayers(){
      const box=$("prayList");
      box.innerHTML="";
      PRAYERS.forEach(p=>{
        const div=document.createElement("div");
        div.className="item";
        div.innerHTML=`
          <div class="left">
            <div class="title">üôè ${escapeHtml(p.title)}</div>
            <div class="small" style="margin-top:8px;line-height:1.55">${escapeHtml(p.text)}</div>
          </div>
          <button class="btn small" data-pray="${escapeHtml(p.title)}">Copiar</button>
        `;
        box.appendChild(div);
      });
      box.querySelectorAll("[data-pray]").forEach(btn=>{
        btn.onclick=()=>{
          const title=btn.getAttribute("data-pray");
          const p=PRAYERS.find(x=>x.title===title);
          copyText(`Ora√ß√£o ‚Äî ${p.title}\n${p.text}`);
        };
      });
    }

    // ===== Themes list =====
    function renderThemes(){
      const box=$("themesList");
      box.innerHTML="";
      THEMES.forEach(t=>{
        const refs = t.refs.map(r=>`‚Ä¢ ${r}`).join("<br/>");
        const div=document.createElement("div");
        div.className="item";
        div.innerHTML=`
          <div class="left">
            <div class="title">üí¨ ${escapeHtml(t.title)}</div>
            <div class="small" style="margin-top:8px;line-height:1.55">${escapeHtml(t.msg)}</div>
            <div class="divider"></div>
            <div class="small"><b>Refer√™ncias:</b><br/>${refs}</div>
          </div>
          <button class="btn small" data-theme="${escapeHtml(t.title)}">Copiar</button>
        `;
        box.appendChild(div);
      });
      box.querySelectorAll("[data-theme]").forEach(btn=>{
        btn.onclick=()=>{
          const title=btn.getAttribute("data-theme");
          const t=THEMES.find(x=>x.title===title);
          copyText(`Tema ‚Äî ${t.title}\n${t.msg}\n\nRefer√™ncias:\n- ${t.refs.join("\n- ")}`);
        };
      });
    }

    // ===== Init =====
    renderCalendar();
    renderHero();
  </script>
</body>
</html>